pipeline {
agent any
stages {
stage ('SCM Checkout'){
git 'https://github.com/vpbobade/maven-project.git'
}
}
{
stage ('Compile Stage') {
steps {
withMaven(maven : 'LocalMaven') {
sh 'mvn clean compile'
}
}
}
stage ('Compile test') {
steps {
withMaven(maven : 'LocalMaven') {
sh 'mvn clean test'
}
}
}
stage ('Compile package'){
steps {
withMaven(maven : 'LocalMaven') {
sh 'mvn clean package'
}
}
}
stage ('Compile install'){
steps {
withMaven(maven : 'LocalMaven') {
sh 'mvn clean install'
}
}
}
stage('Build & Package'){
steps {
withSonarQubeEnv(credentialsId: 'dad5d487fc87f161029cc9c20629974ed389d6d7', installationName: 'sonar')
withMaven(maven : 'LocalMaven') {
sh 'mvn clean install sonar:sonar'
}
}
}
}
}
